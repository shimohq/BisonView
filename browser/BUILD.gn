import("//build/config/android/rules.gni")

java_cpp_enum("browser_enums") {
  sources = [
    "bison_settings.h",
    "permission/bison_permission_request.h",
  ]
}

source_set("browser") {
  sources = [
    "android_protocol_handler.cc",
    "android_protocol_handler.h",
    "bison_browser_context.cc",
    "bison_browser_context.h",
    "bison_browser_main_parts.cc",
    "bison_browser_main_parts.h",
    "bison_content_browser_client.cc",
    "bison_content_browser_client.h",
    "bison_contents.cc",
    "bison_contents.h",
    "bison_contents_client_bridge.cc",
    "bison_contents_client_bridge.h",
    "bison_devtools_manager_delegate.cc",
    "bison_devtools_manager_delegate.h",
    "bison_devtools_server.cc",
    "bison_devtools_server.h",
    "bison_download_manager_delegate.cc",
    "bison_download_manager_delegate.h",
    "bison_javascript_dialog_manager.cc",
    "bison_javascript_dialog_manager.h",
    "bison_permission_manager.cc",
    "bison_permission_manager.h",
    "bison_web_contents_delegate.cc",
    "bison_web_contents_delegate.h",
    "input_stream.cc",
    "input_stream.h",
    "bison_contents_io_thread_client.cc",
    "bison_contents_io_thread_client.h",
    "bison_settings.cc",
    "bison_settings.h",
    "bison_cookie_access_policy.cc",
    "bison_cookie_access_policy.h",
    "bison_content_browser_overlay_manifest.cc",
    "bison_content_browser_overlay_manifest.h",
    "bison_content_renderer_overlay_manifest.cc",
    "bison_content_renderer_overlay_manifest.h",
    "scoped_add_feature_flags.cc",
    "scoped_add_feature_flags.h",
    "bison_resource_context.cc",
    "bison_resource_context.h",
    "cookie_manager.cc",
    "cookie_manager.h",
    "bison_browser_policy_connector.cc",
    "bison_browser_policy_connector.h",
    "bison_browser_process.cc",
    "bison_browser_process.h",
    "bison_feature_list_creator.cc",
    "bison_feature_list_creator.h",
    "bison_variations_service_client.cc",
    "bison_variations_service_client.h",
    "bison_pref_names.cc",
    "bison_pref_names.h",
    "bison_variations_seed_bridge.cc",
    "bison_variations_seed_bridge.h",
    "bison_quota_manager_bridge.cc",
    "bison_quota_manager_bridge.h",
    "bison_field_trials.h",
    "bison_browser_permission_request_delegate.h",

    # network_service
    "network_service/android_stream_reader_url_loader.cc",
    "network_service/android_stream_reader_url_loader.h",
    "network_service/bison_web_resource_intercept_response.cc",
    "network_service/bison_web_resource_intercept_response.h",
    "network_service/bison_web_resource_response.cc",
    "network_service/bison_web_resource_response.h",
    "network_service/bison_web_resource_request.cc",
    "network_service/bison_web_resource_request.h",
    "network_service/input_stream_reader.cc",
    "network_service/input_stream_reader.h",
    "network_service/net_helpers.cc",
    "network_service/net_helpers.h",
    "network_service/bison_proxying_url_loader_factory.cc",
    "network_service/bison_proxying_url_loader_factory.h",
    "network_service/bison_network_change_notifier_factory.cc",
    "network_service/bison_network_change_notifier_factory.h",
    "network_service/bison_network_change_notifier.cc",
    "network_service/bison_network_change_notifier.h",
    "network_service/bison_proxy_config_monitor.cc",
    "network_service/bison_proxy_config_monitor.h",
    "network_service/bison_url_loader_throttle.cc",
    "network_service/bison_url_loader_throttle.h",
    "network_service/bison_proxying_restricted_cookie_manager.cc",
    "network_service/bison_proxying_restricted_cookie_manager.h",

    "renderer_host/bison_render_view_host_ext.cc",
    "renderer_host/bison_render_view_host_ext.h",

    "permission/bison_permission_request_delegate.cc",
    "permission/bison_permission_request_delegate.h",
    "permission/bison_permission_request.cc",
    "permission/bison_permission_request.h",
    "permission/media_access_permission_request.cc",
    "permission/media_access_permission_request.h",
    "permission/permission_request_handler_client.cc",
    "permission/permission_request_handler_client.h",
    "permission/permission_request_handler.cc",
    "permission/permission_request_handler.h",
    "permission/simple_permission_request.cc",
    "permission/simple_permission_request.h",
  ]

  deps = [
    "metrics",
    "//base",
    "//bison:bison_jni_headers",
    "//bison/common",
    "//bison/common:common_mojom",
    "//components/embedder_support/android:web_contents_delegate",
    "//components/navigation_interception",
    "//components/policy/content/",
    "//components/policy/core/browser",
    "//components/version_info",
    "//content/public/browser",
    "//components/page_load_metrics/browser",
    "//services/viz/public/mojom",
    "//components/variations",
    "//components/variations/net",
    "//components/variations/service",
    "//services/viz/privileged/mojom",
    "//ui/gfx",

    "//components/heap_profiling",
    "//components/cdm/browser",
    "//services/preferences/tracked",
    "//components/version_info/android:channel_getter",
  ]
}
